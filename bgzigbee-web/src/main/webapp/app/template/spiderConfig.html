<div style="padding: 28px 30px 0 30px;background-color: #F1F1F1;min-height:700px;">
<style>
	.btn_group button{margin-bottom:10px;}
	.nav>li>a{padding:10px;}
</style>
    <div>
        <form class="navbar-form">
            <div class="form-group">
                <label>RDC:&nbsp;&nbsp;</label>
                <div isteven-multi-select selection-mode="single" input-model="rdclist" output-model="vm.choseRdcs" button-label="name" item-label="name" tick-property="isOn" helper-elements="filter" max-height="200px" on-item-click="changeRdc()" class="form-group"></div>
            </div>
        </form>
    </div>
    <div>
        <div>
            <uib-tabset>
                <uib-tab>
                    <uib-tab-heading>
                        <i class="fa fa-table"></i>添加监控属性
                    </uib-tab-heading>
                    <br/>
                    <div class="col-lg-12">
                        <div class="col-lg-5">
                            <form class="form-horizontal">
                                <div class="form-group">
                                    <label class="col-lg-3 control-label">
                                        <em style="color:red">*</em>对象</label>
                                    <div class="col-lg-9">
                                        <select class="form-control"
                                                ng-model="newKey.type"
                                                ng-change="typeChanged(newKey.type)"
                                                ng-options="item.desc for item in storageTypes track by item.type"></select>
                                    </div>
                                </div>
                                <div class="form-group">
                                    <label class="col-lg-3 control-label"><em style="color:red">*</em>key值(英文)</label>
                                    <div class="col-lg-9">
                                        <input ng-model="newKey.key" class="form-control"/>
                                    </div>
                                </div>
                                <div class="form-group">
                                    <label for="" class="col-lg-3 control-label"><em style="color:red">*</em>描述</label>
                                    <div class="col-lg-9">
                                        <input ng-model="newKey.desc" class="form-control"/>
                                    </div>
                                </div>
                                <div class="form-group">
                                    <label for="" class="col-lg-3 control-label">单位</label>
                                    <div class="col-lg-9">
                                        <input ng-model="newKey.unit" class="form-control"/>
                                    </div>
                                </div>
                                <div class="form-group">
                                    <label for="" class="col-lg-3 control-label"></label>
                                    <div class="col-lg-9">
                                        <button class="btn btn-primary" ng-click="saveNewKey()">保存</button>
                                    </div>
                                </div>
                            </form>
                        </div>
                        <div class="col-lg-7">
                            <table class="table table-striped table-bordered ng-pristine ng-untouched">
                                <tr>
                                    <th>类型</th>
                                    <th>key</th>
                                    <th>描述</th>
                                    <th>单位</th>
                                    <th>操作</th>
                                </tr>
                                <tr ng-repeat="item in keysData">
                                    <td ng-bind="getDescByType(item.type)"></td>
                                    <td>{{item.key}}</td>
                                    <td>{{item.desc}}</td>
                                    <td>{{item.unit}}</td>
                                    <td>
                                        <a class="btn btn-danger btn-xs" ng-click="delStorageKey(item)">
                                            <span class="glyphicon glyphicon-minus"></span>
                                        </a>
                                    </td>
                                </tr>
                            </table>
                        </div>
                    </div>
                </uib-tab>
                <uib-tab>
                    <uib-tab-heading>
                        <i class="fa fa-table"></i>添加监控对象
                    </uib-tab-heading>
                    <div class="col-lg-12">
                        <form class="navbar-form">
                            <div class="col-lg-4 form-group" style="margin-top:20px;">
                                <label>操作：</label>
                                <select ng-options="device.name for device in devices" class="form-control" ng-model="choseDevice" ></select>
                            </div>
                        </form>
                        <form class="navbar-form">
                            <div class="col-lg-4 form-group" style="margin-top:20px;"
                                 ng-show="choseDevice.name == '添加冷库墙' ||choseDevice.name == '添加冷库门' || choseDevice.name == '添加冷风机' ||choseDevice.name == '添加灯组' || choseDevice.table=='windscreenset' ">
                                <label>冷库：</label>
                                <select ng-options="storage.name for storage in storages" class="form-control" ng-model="vm.choseStorage" ng-change="changeStorage()"></select>
                            </div>
                        </form>
                        <form class="navbar-form">
                            <div class="col-lg-4 form-group" style="margin-top:20px;" ng-show="choseDevice.table == 'compressorset'">
                                <label>压缩机组：</label>
                                <select ng-options="item.name for item in compressGroups" class="form-control" ng-model="vm.choseCompressGroup" ng-change="changeCompressGroup()"></select>
                            </div>
                        </form>
                        <form class="navbar-form">
                            <div class="col-lg-4 form-group" style="margin-top:20px;" ng-show="choseDevice.table == 'compressorgroupset' ||choseDevice.table == 'evaporativewaterset' || choseDevice.table =='evaporativeblowerset'">
                                <label>冷凝系统：</label>
                                <select ng-options="item.name for item in evaporativeSets" class="form-control" ng-model="vm.choseEvaporative" ng-change="changeEvaporative()"></select>
                            </div>
                        </form>
                        <!--  -->
                        <form id="addStorage" ng-show="choseDevice.name == '添加冷库'" class="col-lg-12 form-horizontal">
                            <div style="margin-top:30px;" class="col-lg-12 row">
                                <div class="form-group col-lg-6">
                                    <label class="control-label col-lg-6"><em style="color:red">*</em>冷库名:</label>
                                    <div class="col-lg-4">
                                        <input style="width:250px;" placeholder="请输入冷库名" ng-model="storageEntity.name" class="form-control" />
                                    </div>
                                </div>
                                <div class="form-group col-lg-6">
                                    <label class="control-label col-lg-6"><em style="color:red">*</em>理论能耗(KJ/h):</label>
                                    <div class="col-lg-4">
                                        <input style="width:250px;" type="number" placeholder="请输入数字" ng-model="storageEntity.energyCost" class="form-control" />
                                    </div>
                                </div>
                               <!--  <div class="form-group">
                                    <label class="control-label col-lg-4">冷库经度(°):</label>
                                    <div class="col-lg-8">
                                        <input style="width:250px;" ng-model="storageEntity.longitude" class="form-control" />
                                    </div>
                                </div>
                                <div class="form-group">
                                    <label class="control-label col-lg-4">冷库维度(°):</label>
                                    <div class="col-lg-8">
                                        <input style="width:250px;" ng-model="storageEntity.latitude" class="form-control" />
                                    </div>
                                </div>
                                <div class="form-group">
                                    <label class="control-label col-lg-4">冷库位置:&nbsp;&nbsp;</label>
                                    <div class="col-lg-8">
                                        <input style="width:250px;" ng-model="storageEntity.location" class="form-control" />
                                    </div>
                                </div> -->
                                <div class="form-group col-lg-6">
                                    <label class="control-label col-lg-6"><em style="color:red">*</em>起始温度(℃):&nbsp;&nbsp;</label>
                                    <div class="col-lg-4">
                                        <input style="width:250px;" type="number" placeholder="请输入数字" ng-model="storageEntity.startTemperature" class="form-control" />
                                    </div>
                                </div>
                                <div class="form-group col-lg-6">
                                    <label class="control-label col-lg-6"><em style="color:red">*</em>温度差(℃):&nbsp;&nbsp;</label>
                                    <div class="col-lg-4">
                                        <input style="width:250px;" type="number" placeholder="请输入数字" ng-model="storageEntity.tempdiff" class="form-control" />
                                    </div>
                                </div>
                                <div class="form-group col-lg-6">
                                    <label class="control-label col-lg-6">超温报警值(℃):&nbsp;&nbsp;</label>
                                    <div class="col-lg-4">
                                        <input style="width:250px;" type="number" placeholder="请输入数字" ng-model="storageEntity.overtempalarm" class="form-control" />
                                    </div>
                                </div>
                                <div class="form-group col-lg-6">
                                    <label class="control-label col-lg-6">超温报警延时(s):&nbsp;&nbsp;</label>
                                    <div class="col-lg-4">
                                        <input style="width:250px;" type="number" placeholder="请输入数字" ng-model="storageEntity.overtempdelay" class="form-control" />
                                    </div>
                                </div>
                                <div class="form-group col-lg-6">
                                    <label class="control-label col-lg-6">冷库长(m):&nbsp;&nbsp;</label>
                                    <div class="col-lg-4">
                                        <input style="width:250px;" type="number" placeholder="请输入数字" ng-model="storageEntity.length" class="form-control" />
                                    </div>
                                </div>
                                <div class="form-group col-lg-6">
                                    <label class="control-label col-lg-6">冷库宽(m):&nbsp;&nbsp;</label>
                                    <div class="col-lg-4">
                                        <input style="width:250px;" type="number" placeholder="请输入数字" ng-model="storageEntity.width" class="form-control" />
                                    </div>
                                </div>
                                <div class="form-group col-lg-6">
                                    <label class="control-label col-lg-6">冷库高(m):&nbsp;&nbsp;</label>
                                    <div class="col-lg-4">
                                        <input style="width:250px;" type="number" placeholder="请输入数字" ng-model="storageEntity.height" class="form-control" />
                                    </div>
                                </div>
                                <div class="form-group col-lg-6">
                                    <label class="control-label col-lg-6">冷库内部湿度(%RH):&nbsp;&nbsp;</label>
                                    <div class="col-lg-4">
                                        <input style="width:250px;" type="number" placeholder="请输入数字" ng-model="storageEntity.inhumidity" class="form-control" />
                                    </div>
                                </div>
                                <div class="form-group col-lg-6">
                                    <label class="control-label col-lg-6">冷库外部湿度(%RH)：&nbsp;&nbsp;</label>
                                    <div class="col-lg-4">
                                        <input style="width:250px;" type="number" placeholder="请输入数字" ng-model="storageEntity.outhumidity" class="form-control" />
                                    </div>
                                </div>
                                <div class="form-group col-lg-6">
                                    <label class="control-label col-lg-6">冷库外部温度(℃):&nbsp;&nbsp;</label>
                                    <div class="col-lg-6">
                                        <select ng-options="storage.id as storage.name for storage in storages" class="form-control" ng-model="storageEntity.refoid" style="width: 133px;    display: initial;"></select>
                                      / <input type="number" placeholder="请输入数字" ng-model="storageEntity.outtempe" class="form-control" style="width: 100px;    display: initial;"/>
                                    </div>
                                </div>
                                <div class="form-group col-lg-12">
                                    <a class="btn btn-sm btn-primary pull-right" type='submit' ng-click="addStorage()" ng-disabled="!storageEntity.name">添加</a>
                                </div>
                            </div>
                            <div class="col-lg-12">
                                <label>已有冷库：</label>
                                <ajax-table array-objects="storages"
                                            delete-url="/i/coldStorage/deleteStorage"
                                            update-url="/i/coldStorage/updateStorage"
                                            colums-th="冷库名,理论能耗(KJ/h),起始温度(℃),温度差(℃),超温报警值(℃),超温报警延时(s),冷库长(m),冷库宽(m),冷库高(m),冷库内部湿度(%RH),冷库外部湿度(%RH),冷库内引用冷库id,冷库外部温度(℃)"
                                            colums="name,energyCost,startTemperature,tempdiff,overtempalarm,overtempdelay,length,width,height,inhumidity,outhumidity,refoid,outtempe"></ajax-table>
                            </div>
                        </form>
                        <!--  -->
                        <form id="addDoor" ng-show="choseDevice.name == '添加冷库门'" class="col-lg-12 form-horizontal">
                            <div style="margin-top:30px;" class="col-lg-6">
                                <div class="form-group">
                                    <label class="control-label col-lg-4"><em style="color:red">*</em>门名字:</label>
                                    <div class="col-lg-8">
                                        <input style="width:250px;" ng-model="doorEntity.name" class="form-control" />
                                    </div>
                                </div>
                                <div class="form-group">
                                    <label class="control-label col-lg-4">门长度(M):</label>
                                    <div class="col-lg-8">
                                        <input style="width:250px;" type="number" placeholder="请输入数字" ng-model="doorEntity.length" class="form-control" />
                                    </div>
                                </div>
                                <div class="form-group">
                                    <label class="control-label col-lg-4">门宽度(M):</label>
                                    <div class="col-lg-4">
                                        <input style="width:250px;" type="number" placeholder="请输入数字" ng-model="doorEntity.width" class="form-control" />
                                    </div>
                                </div>
                                <div class="form-group col-lg-8">
                                    <a class="btn btn-sm btn-primary pull-right" type='submit' ng-click="addDoor()" ng-disabled="!doorEntity.name">添加</a>
                                </div>
                            </div>
                            <div class="col-lg-6">
                            	<div><label>&nbsp;</label></div>
                                <label>已有门：</label>
                                <ajax-table array-objects="doors"
                                            delete-url="/i/coldStorageDoor/deleteDoor"
                                            update-url="/i/coldStorageDoor/updateDoor"
                                            colums-th="名字,门长度(M),门宽度(M)"
                                            colums="name,length,width"></ajax-table>
                            </div>
                        </form>
                        <form id="addWall" ng-show="choseDevice.name == '添加冷库墙'" class="col-lg-12 form-horizontal">
                            <div style="margin-top:30px;" class="col-lg-6">
                                <div class="form-group">
                                    <label class="control-label col-lg-4"><em style="color:red">*</em>墙名字:</label>
                                    <div class="col-lg-8">
                                        <input style="width:250px;" ng-model="wallEntity.name" class="form-control" />
                                    </div>
                                </div>
                                <div class="form-group">
                                    <label class="control-label col-lg-4">墙长度(M):</label>
                                    <div class="col-lg-8">
                                        <input style="width:250px;" type="number" placeholder="请输入数字" ng-model="wallEntity.length" class="form-control" />
                                    </div>
                                </div>
                                <div class="form-group">
                                    <label class="control-label col-lg-4">墙高度(M):</label>
                                    <div class="col-lg-4">
                                        <input style="width:250px;" type="number" placeholder="请输入数字" ng-model="wallEntity.width" class="form-control" />
                                    </div>
                                </div>
                                <div class="form-group">
                                    <label class="control-label col-lg-4">修正系数a:</label>
                                    <div class="col-lg-4">
                                        <input style="width:250px;" type="number" placeholder="请输入数字" ng-model="wallEntity.a" class="form-control" />
                                    </div>
                                </div>
                                <div class="form-group">
                                    <label class="control-label col-lg-4">外侧放热系数:</label>
                                    <div class="col-lg-4">
                                        <input style="width:250px;" type="number" placeholder="请输入数字" ng-model="wallEntity.aw" class="form-control" />
                                    </div>
                                </div>
                                <div class="form-group">
                                    <label class="control-label col-lg-4">内侧放热系数:</label>
                                    <div class="col-lg-4">
                                        <input style="width:250px;" type="number" placeholder="请输入数字" ng-model="wallEntity.an" class="form-control" />
                                    </div>
                                </div>
                                <div class="form-group">
                                    <label class="control-label col-lg-4">保温材料厚度:</label>
                                    <div class="col-lg-4">
                                        <input style="width:250px;" type="number" placeholder="请输入数字" ng-model="wallEntity.thick" class="form-control" />
                                    </div>
                                </div>
                                <div class="form-group">
                                    <label class="control-label col-lg-4">导热系数:</label>
                                    <div class="col-lg-4">
                                        <input style="width:250px;" type="number" placeholder="请输入数字" ng-model="wallEntity.daorexishu" class="form-control" />
                                    </div>
                                </div>
                                <div class="form-group">
                                    <label class="control-label col-lg-4">保温材料修正值b:</label>
                                    <div class="col-lg-4">
                                        <input style="width:250px;" type="number" placeholder="请输入数字" ng-model="wallEntity.b" class="form-control" />
                                    </div>
                                </div>
                                <div class="form-group">
                                    <label class="control-label col-lg-4">墙外温度(设定):</label>
                                    <div class="col-lg-4">
                                        <input style="width:250px;" type="number" placeholder="请输入数字" ng-model="wallEntity.tw" class="form-control" />
                                    </div>
                                </div>
                                <div class="form-group">
                                    <label class="control-label col-lg-4">墙外温度关联冷库:</label>
                                    <div class="col-lg-4">
                                        <select class="form-control" ng-options="storage.name for storage in storages" ng-model="wallEntity.outsidecoldstorage"></select>
                                    </div>
                                    <em style="color:red">*如果关联了冷库则冷库优先</em>
                                </div>
                                <div class="form-group col-lg-8">
                                    <a class="btn btn-sm btn-primary pull-right" type='submit' ng-click="addWall()" ng-disabled="!wallEntity.name">添加</a>
                                </div>
                            </div>
                            <div class="col-lg-6">
                            	<div><label>&nbsp;</label></div>
                                <label>已有墙：</label>
                                <ajax-table array-objects="walls"
                                            delete-url="/i/spiderConfig/delete/wallSet"
                                            update-url="/i/spiderConfig/update/wallSet"
                                            colums-th="名字,墙长度(M),墙高度(M),系数a,外侧系数,内侧系数,厚度,导热系数,修正值b,墙外温度,关联冷库"
                                            colums="name,length,width,a,aw,an,thick,daorexishu,b,tw,outsidecoldstorageid"></ajax-table>
                            </div>
                        </form>
                        <!--  -->
                        <form id="addBlower" ng-show="choseDevice.table == 'blowerset'" class="col-lg-12 form-horizontal">
                            <div style="margin-top:30px;" class="col-lg-6">
                                <div class="form-group">
                                    <label class="control-label col-lg-4"><em style="color:red">*</em>风机名字:</label>
                                    <div class="col-lg-8">
                                        <input style="width:250px;" ng-model="blowerEntity.name" class="form-control" />
                                    </div>
                                </div>
                                <div class="form-group">
                                    <label class="control-label col-lg-4">化霜温度(°C):</label>
                                    <div class="col-lg-8">
                                        <input style="width:250px;" type="number" placeholder="请输入数字" ng-model="blowerEntity.defrostingTemperature" class="form-control" />
                                    </div>
                                </div>
                               
                                <div class="form-group">
                                    <label class="control-label col-lg-4">冷风机风扇功率(kW):</label>
                                    <div class="col-lg-8">
                                        <input style="width:250px;" type="number" placeholder="请输入数字" ng-model="blowerEntity.fanPower" class="form-control" />
                                    </div>
                                </div>
                                <div class="form-group">
                                    <label class="control-label col-lg-4">冷风机化霜功率(kW):</label>
                                    <div class="col-lg-8">
                                        <input style="width:250px;" type="number" placeholder="请输入数字" ng-model="blowerEntity.frostPower" class="form-control" />
                                    </div>
                                </div>
                                <div class="form-group col-lg-8">
                                    <a class="btn btn-sm btn-primary pull-right" type='submit' ng-click="addBlower()" ng-disabled="!blowerEntity.name">添加</a>
                                </div>
                            </div>
                            <div class="col-lg-6">
                            	<div><label>&nbsp;</label></div>
                                <label>已有风机：</label>
                               <ajax-table array-objects="blowers"
                                            update-url="i/blower/updateBlower"
                                            delete-url="/i/blower/deleteBlower"
                                            colums-th="风机名字,化霜温度(°C),冷风机风扇功率(kW),冷风机化霜功率(kW)"
                                            colums="name,defrostingTemperature,fanPower,frostPower"></ajax-table>
                            </div>
                        </form>
                        <!--  -->
                        <form id="addCompressGroup" ng-show="choseDevice.name == '添加压缩机组'" class="col-lg-12 form-horizontal">
                            <div style="margin-top:30px;" class="col-lg-6">
                                <div class="form-group">
                                    <label class="control-label col-lg-4"><em style="color:red">*</em>机组名字:</label>
                                    <div class="col-lg-8">
                                        <input style="width:250px;" ng-model="compressGroupEntity.name" class="form-control" />
                                    </div>
                                </div>
                                <div class="form-group">
                                    <label class="control-label col-lg-4">设定低压(Kpa):</label>
                                    <div class="col-lg-8">
                                        <input type="number" style="width:250px;" type="number" placeholder="请输入数字" ng-model="compressGroupEntity.lowPress" class="form-control" />
                                    </div>
                                </div>
                                <div class="form-group">
                                    <label class="control-label col-lg-4">设定压差(Kpa):</label>
                                    <div class="col-lg-8">
                                        <input type="number" style="width:250px;" type="number" placeholder="请输入数字" ng-model="compressGroupEntity.pressDiff" class="form-control" />
                                    </div>
                                </div>
                                <div class="form-group">
                                    <label class="control-label col-lg-4">化霜温度(°C):</label>
                                    <div class="col-lg-8">
                                        <input type="number" style="width:250px;" type="number" placeholder="请输入数字" ng-model="compressGroupEntity.meltFrostTemperature" class="form-control" />
                                    </div>
                                </div>
                                <!--<div class="form-group">-->
                                    <!--<label class="control-label col-lg-4">急停压力(kPa):</label>-->
                                    <!--<div class="col-lg-8">-->
                                        <!--<input style="width:250px;" ng-model="compressGroupEntity.crashStopPress" class="form-control" />-->
                                    <!--</div>-->
                                <!--</div>-->
                                <div class="form-group">
                                    <label class="control-label col-lg-4">高压压力过高报警值（kPa):</label>
                                    <div class="col-lg-8">
                                        <input type="number" style="width:250px;" type="number" placeholder="请输入数字" ng-model="compressGroupEntity.highPressAlarm" class="form-control" />
                                    </div>
                                </div>
                                <div class="form-group">
                                    <label class="control-label col-lg-4">排气温度过高报警值(°C):</label>
                                    <div class="col-lg-8">
                                        <input type="number" style="width:250px;" type="number" placeholder="请输入数字" ng-model="compressGroupEntity.highTempAlarm" class="form-control" />
                                    </div>
                                </div>
                                <div class="form-group">
                                    <label class="control-label col-lg-4">排气温度过低报警值(°C):</label>
                                    <div class="col-lg-8">
                                        <input type="number" style="width:250px;" type="number" placeholder="请输入数字" ng-model="compressGroupEntity.lowTempAlarm" class="form-control" />
                                    </div>
                                </div>
                                <div class="form-group col-lg-8">
                                    <a class="btn btn-sm btn-primary pull-right" type='submit' ng-click="addCompressGroup()" ng-disabled="!compressGroupEntity.name">添加</a>
                                </div>
                            </div>
                            <div class="col-lg-6">
                            	<div><label>&nbsp;</label></div>
                                <label>已有压缩机组：</label>
                                <ajax-table array-objects="compressGroups"
                                            delete-url="/i/compressorGroup/deleteCompressGroup"
                                            update-url="/i/compressorGroup/updateCompressGroup"
                                            colums-th="名字,设定低压,设定压差,化霜温度,高压压力过高报警值,排气温度过高报警值,排气温度过低报警值"
                                            colums="name,lowPress,pressDiff,meltFrostTemperature,highPressAlarm,highTempAlarm,lowTempAlarm"></ajax-table>
                            </div>
                        </form>

                        <form id="addCompressor" ng-show="choseDevice.table == 'compressorset'" class="col-lg-12 form-horizontal">
                            <div style="margin-top:30px;" class="col-lg-6">
                                <div class="form-group">
                                    <label class="control-label col-lg-4"><em style="color:red">*</em>名字:</label>
                                    <div class="col-lg-8">
                                        <input style="width:250px;" ng-model="compressorSet.name" class="form-control" />
                                    </div>
                                </div>
                                <div class="form-group">
                                    <label class="control-label col-lg-4">匹数：</label>
                                    <div class="col-lg-8">
                                        <input style="width:250px;" type="number" placeholder="请输入数字" ng-model="compressorSet.power" class="form-control" />
                                    </div>
                                </div>
                                <div class="form-group">
                                    <label class="control-label col-lg-4">水耗系数:</label>
                                    <div class="col-lg-8">
                                        <input style="width:250px;" type="number" placeholder="请输入数字" ng-model="compressorSet.waterRatio" class="form-control" />
                                    </div>
                                </div>
                                <div class="form-group">
                                    <label class="control-label col-lg-4">压缩机类型系数:</label>
                                    <div class="col-lg-8">
                                        <select class="form-control" ng-model="vm.compressorType"
                                        ng-options="type.name for type in [{name:'螺杆压缩机',type:1},{name:'活塞压缩机',type:2}]"></select>
                                    </div>
                                </div>
                                <div class="form-group">
                                    <label class="control-label col-lg-4">压缩机维护时间(H):</label>
                                    <div class="col-lg-8">
                                         <input class="form-control" placeholder="压缩机运行时间：单位小时" ng-model="compressorSet.maintenancetime" /> 
                                    </div>
                                </div>
                               
                                <div class="form-group col-lg-8">
                                    <a class="btn btn-sm btn-primary pull-right" type='submit' ng-click="addCompress()" ng-disabled="!compressorSet.name">添加</a>
                                </div>
                            </div>
                            <div class="col-lg-6">
                            	<div><label>&nbsp;</label></div>
                                <label>已有单体压缩机：</label>
                                <br>
                                <label>(压缩机类型：1：螺杆,2：活塞)</label>
                                <ajax-table array-objects="compressorSets"
                                            delete-url="/i/compressorGroup/deleteCompressor"
                                            update-url="/i/compressorGroup/updateCompressor" 
                                            resttable-url="/i/compressorGroup/restlastMaintainTime" 
                                            colums-th="名字,匹数,水耗系数,类型,维护时间,最后保养时间"
                                            colums="name,power,waterRatio,type,maintenancetime,lastMaintainTime"></ajax-table>
                            </div>
                        </form>
                        <!--风幕机-->
                        <form id="addWindScreen" ng-show="choseDevice.table == 'windscreenset'" class="col-lg-12 form-horizontal">
                            <div style="margin-top:30px;" class="col-lg-6">
                                <div class="form-group">
                                    <label class="control-label col-lg-4"><em style="color:red">*</em>名字:</label>
                                    <div class="col-lg-8">
                                        <input style="width:250px;" ng-model="windScreenSet.name" class="form-control" />
                                    </div>
                                </div>
                                <div class="form-group">
                                    <label class="control-label col-lg-4">风幕机功率(kW):</label>
                                    <div class="col-lg-4">
                                        <input style="width:250px;" type="number" placeholder="请输入数字" ng-model="windScreenSet.power" class="form-control" />
                                    </div>
                                </div>
                                <div class="form-group col-lg-8">
                                    <a class="btn btn-sm btn-primary pull-right" type='submit' ng-click="addWindScreen()" ng-disabled="!windScreenSet.name">添加</a>
                                </div>
                            </div>
                            <div class="col-lg-6">
                            	<div><label>&nbsp;</label></div>
                                <label>已有风幕机：</label>
                                <ajax-table array-objects="windScreenSets"
                                            delete-url="/i/spiderConfig/delete/windscreenset"
                                            update-url="/i/spiderConfig/update/windscreenset"
                                            colums-th="名字,功率(kW)"
                                            colums="name,power"></ajax-table>
                            </div>
                        </form>
                        <!--添加蒸发冷系统-->
                        <form id="addEvaporative" ng-show="choseDevice.table == 'evaporativeset'" class="col-lg-12 form-horizontal">
                            <div style="margin-top:30px;" class="col-lg-6">
                                <div class="form-group">
                                    <label class="control-label col-lg-4"><em style="color:red">*</em>名字:</label>
                                    <div class="col-lg-8">
                                        <input style="width:250px;" ng-model="evaporativeSet.name" class="form-control" />
                                    </div>
                                </div>
                                <div class="form-group col-lg-8">
                                    <a class="btn btn-sm btn-primary pull-right" type='submit' ng-click="addEvaporativeSet()" ng-disabled="!evaporativeSet.name">添加</a>
                                </div>
                            </div>
                            <div class="col-lg-6">
                            	<div><label>已有冷凝系统：</label></div>
                                <table class="table table-striped table-bordered ng-pristine ng-untouched" style="margin-top:5px;">
                                    <thead>
                                    <tr>
                                        <th>名字</th>
                                        <th>操作</th>
                                    </tr>
                                    </thead>
                                    <tbody>
                                    <tr ng-repeat="item in evaporativeSets">
                                        <td>{{item.name}}</td>
                                        <td><a class="btn btn-danger btn-xs" ng-click="delById(choseDevice.table, item, evaporativeSets)"><span class="glyphicon glyphicon-minus"></span></a></td>
                                    </tr>
                                    </tbody>
                                </table>
                            </div>
                        </form>
                        <!--添加蒸发冷水泵-->
                        <form id="addEvaporativeWater" ng-show="choseDevice.table == 'evaporativewaterset'" class="col-lg-12 form-horizontal">
                            <div style="margin-top:30px;" class="col-lg-6">
                                <div class="form-group">
                                    <label class="control-label col-lg-4"><em style="color:red">*</em>名字:</label>
                                    <div class="col-lg-8">
                                        <input style="width:250px;" ng-model="evaporativeWaterSet.name" class="form-control" />
                                    </div>
                                </div>
                                <div class="form-group col-lg-8">
                                    <a class="btn btn-sm btn-primary pull-right" type='submit' ng-click="addEvaporativeWaterSet()" ng-disabled="!evaporativeWaterSet.name">添加</a>
                                </div>
                            </div>
                            <div class="col-lg-6">
                            	<div><br><label>已有冷水泵：</label></div>
                                <table class="table table-striped table-bordered ng-pristine ng-untouched" style="margin-top:5px;">
                                    <thead>
                                    <tr>
                                        <th>名字</th>
                                        <th>操作</th>
                                    </tr>
                                    </thead>
                                    <tbody>
                                    <tr ng-repeat="item in evaporativeWaterSets">
                                        <td>{{item.name}}</td>
                                        <td><a class="btn btn-danger btn-xs" ng-click="delById(choseDevice.table, item, evaporativeWaterSets)"><span class="glyphicon glyphicon-minus"></span></a></td>
                                    </tr>
                                    </tbody>
                                </table>
                            </div>
                        </form>
                        <!--添加冷风机-->
                        <form id="addEvaporativedBlower" ng-show="choseDevice.table == 'evaporativeblowerset'" class="col-lg-12 form-horizontal">
                            <div style="margin-top:30px;" class="col-lg-6">
                                <div class="form-group">
                                    <label class="control-label col-lg-4"><em style="color:red">*</em>名字:</label>
                                    <div class="col-lg-8">
                                        <input style="width:250px;" ng-model="evaporativeBlowerSet.name" class="form-control" />
                                    </div>
                                </div>
                                <div class="form-group col-lg-8">
                                    <a class="btn btn-sm btn-primary pull-right" type='submit' ng-click="addEvaporativeBlowerSet()" ng-disabled="!evaporativeBlowerSet.name">添加</a>
                                </div>
                            </div>
                            <div class="col-lg-6">
                            	<div><br><label>已有冷风机：</label></div>
                                <table class="table table-striped table-bordered ng-pristine ng-untouched" style="margin-top:5px;">
                                    <thead>
                                    <tr>
                                        <th>名字</th>
                                        <th>操作</th>
                                    </tr>
                                    </thead>
                                    <tbody>
                                    <tr ng-repeat="item in evaporativeBlowerSets">
                                        <td>{{item.name}}</td>
                                        <td><a class="btn btn-danger btn-xs" ng-click="delById(choseDevice.table, item, evaporativeBlowerSets)"><span class="glyphicon glyphicon-minus"></span></a></td>
                                    </tr>
                                    </tbody>
                                </table>
                            </div>
                        </form>
                        <!--添加电表-->
                        <form id="addpower" ng-show="choseDevice.table == 'powerset'" class="col-lg-12 form-horizontal">
                            <div style="margin-top:30px;" class="col-lg-6">
                                <div class="form-group">
                                    <label class="control-label col-lg-4"><em style="color:red">*</em>名字:</label>
                                    <div class="col-lg-8">
                                        <input style="width:250px;" ng-model="powerSet.name" class="form-control" />
                                    </div>
                                </div>
                                <div class="form-group">
                                    <label class="control-label col-lg-4">电流不平衡值:</label>
                                    <div class="col-lg-8">
                                        <input style="width:250px;" type="number" placeholder="请输入数字" ng-model="powerSet.iunbalance" class="form-control" />
                                    </div>
                                </div>
                                <div class="form-group col-lg-8">
                                    <a class="btn btn-sm btn-primary pull-right" type='submit' ng-click="addRdcIdAndName(powerSet, choseDevice.table)" ng-disabled="!powerSet.name">添加</a>
                                </div>
                            </div>
                            <div class="col-lg-6">
                                 <label>已有电表：</label>
                                <ajax-table array-objects="powerSets"
                                            delete-url="/i/spiderConfig/delete/powerSet"
                                            update-url="/i/spiderConfig/update/powerSet"
                                            colums-th="名字,电流不平衡值"
                                            colums="name,iunbalance"></ajax-table>
                            </div>
                        </form>
                        <!--月台门-->
                        <form id="addPlatformdoor" ng-show="choseDevice.table == 'platformdoorset'" class="col-lg-12 form-horizontal">
                            <div style="margin-top:30px;" class="col-lg-6">
                                <div class="form-group">
                                    <label class="control-label col-lg-4"><em style="color:red">*</em>名字:</label>
                                    <div class="col-lg-8">
                                        <input style="width:250px;" ng-model="platformDoorSet.name" class="form-control" />
                                    </div>
                                </div>
                                <div class="form-group">
                                    <label class="control-label col-lg-4">门长度(M):</label>
                                    <div class="col-lg-8">
                                        <input style="width:250px;" type="number" placeholder="请输入数字" ng-model="platformDoorSet.length" class="form-control" />
                                    </div>
                                </div>
                                <div class="form-group">
                                    <label class="control-label col-lg-4">门宽度(M):</label>
                                    <div class="col-lg-4">
                                        <input style="width:250px;" type="number" placeholder="请输入数字" ng-model="platformDoorSet.width" class="form-control" />
                                    </div>
                                </div>
                                <div class="form-group col-lg-8">
                                    <a class="btn btn-sm btn-primary pull-right" type='submit' ng-click="addplatformDoorSet()" ng-disabled="!platformDoorSet.name">添加</a>
                                </div>
                            </div>
                            <div class="col-lg-6">
                            	<div><label>已有月台门：</label></div>
                                <ajax-table array-objects="platformDoorSets"
                                            delete-url="/i/spiderConfig/delete/plateformDoor"
                                            update-url="/i/spiderConfig/update/plateformDoor"
                                            colums-th="名字,门长度,门宽度"
                                            colums="name,length,width"></ajax-table>
                            </div>
                        </form>
                        <!--液压平台-->
                        <form id="addPressurePlatform" ng-show="choseDevice.table == 'pressureplatformset'" class="col-lg-12 form-horizontal">
                            <div style="margin-top:30px;" class="col-lg-6">
                                <div class="form-group">
                                    <label class="control-label col-lg-4"><em style="color:red">*</em>名字:</label>
                                    <div class="col-lg-8">
                                        <input style="width:250px;" ng-model="pressurePlatformSet.name" class="form-control" />
                                    </div>
                                </div>
                                <div class="form-group">
                                    <label class="control-label col-lg-4"><em style="color:red">*</em>功率:</label>
                                    <div class="col-lg-8">
                                        <input style="width:250px;" ng-model="pressurePlatformSet.power" class="form-control" />
                                    </div>
                                </div>
                                <div class="form-group">
                                    <label class="control-label col-lg-4"><em style="color:red">*</em>月台门:</label>
                                    <div class="col-lg-8">
                                        <select ng-options="item.name for item in platformDoorSets" class="form-control" 
                                        ng-model="pressurePlatformSet.platformdoorid"></select>
                                    </div>
                                </div>
                                <div class="form-group col-lg-8">
                                    <a class="btn btn-sm btn-primary pull-right" type='submit' ng-click="addRdcIdAndName(pressurePlatformSet, choseDevice.table)" ng-disabled="!pressurePlatformSet.name">添加</a>
                                </div>
                            </div>
                            <div class="col-lg-6">
                            	<div><label>已有液压平台：</label></div>
                                      <ajax-table array-objects="pressurePlatformSets"
                                            delete-url="/i/spiderConfig/delete/deletePressureplfmById"
                                            update-url="/i/spiderConfig/update/updatePressureplfmSet"
                                            colums-th="名字,功率(kW),月台门ID"
                                            colums="name,power,platformdoorid"></ajax-table>
                            </div>
                        </form>
                        <!--充电桩-->
                        <form id="addChargingpile" ng-show="choseDevice.table == 'chargingpileset'" class="col-lg-12 form-horizontal">
                            <div style="margin-top:30px;" class="col-lg-6">
                                <div class="form-group">
                                    <label class="control-label col-lg-4"><em style="color:red">*</em>名字:</label>
                                    <div class="col-lg-8">
                                        <input style="width:250px;" ng-model="chargingpileSet.name" class="form-control" />
                                    </div>
                                </div>
                                <div class="form-group">
                                    <label class="control-label col-lg-4"><em style="color:red">*</em>功率:</label>
                                    <div class="col-lg-8">
                                        <input style="width:250px;" ng-model="chargingpileSet.power" class="form-control" />
                                    </div>
                                </div>
                                <div class="form-group col-lg-8">
                                    <a class="btn btn-sm btn-primary pull-right" type='submit' ng-click="addRdcIdAndName(chargingpileSet, choseDevice.table)" ng-disabled="!chargingpileSet.name">添加</a>
                                </div>
                            </div>
                            <div class="col-lg-6">
                            	<div><label>已有充电桩：</label></div>
                                 <ajax-table array-objects="chargingpileSets"
                                            delete-url="/i/spiderConfig/delete/deleteChargingpilesetById"
                                            update-url="/i/spiderConfig/update/updateChargingpileset"
                                            colums-th="名字,功率(kW)"
                                            colums="name,power"></ajax-table>
                            </div>
                        </form>
                        <!--叉车-->
                        <form id="addForkliftSet" ng-show="choseDevice.table == 'forkliftset'" class="col-lg-12 form-horizontal">
                            <div style="margin-top:30px;" class="col-lg-6">
                                <div class="form-group">
                                    <label class="control-label col-lg-4"><em style="color:red">*</em>名字:</label>
                                    <div class="col-lg-8">
                                        <input style="width:250px;" ng-model="forkliftSet.name" class="form-control" />
                                    </div>
                                </div>
                                <div class="form-group">
                                    <label class="control-label col-lg-4">功率:</label>
                                    <div class="col-lg-8">
                                        <input style="width:250px;" type="number" placeholder="请输入数字" ng-model="forkliftSet.power" class="form-control" />
                                    </div>
                                </div>
                                <div class="form-group col-lg-8">
                                    <a class="btn btn-sm btn-primary pull-right" type='submit' ng-click="addRdcIdAndName(forkliftSet, choseDevice.table)" ng-disabled="!forkliftSet.name">添加</a>
                                </div>
                            </div>
                            <div class="col-lg-6">
                              <label>已有叉车：</label>
                              <ajax-table array-objects="forkliftSets"
                                            delete-url="/i/spiderConfig/delete/forkliftSet"
                                            update-url="/i/spiderConfig/update/forkliftSet	"
                                            colums-th="名字,功率"
                                            colums="name,power"></ajax-table>
                            </div>
                        </form>
                        <!--灯组-->
                        <form id="addColdStorageLight" ng-show="choseDevice.table == 'coldstoragelightset'" class="col-lg-12 form-horizontal">
                            <div style="margin-top:30px;" class="col-lg-6">
                                <div class="form-group">
                                    <label class="control-label col-lg-4"><em style="color:red">*</em>名字:</label>
                                    <div class="col-lg-8">
                                        <input style="width:250px;" ng-model="coldStorageLightSet.name" class="form-control" />
                                    </div>
                                </div>
                                <div class="form-group">
                                    <label class="control-label col-lg-4">功率(kw):</label>
                                    <div class="col-lg-8">
                                        <input style="width:250px;" type="number" placeholder="请输入数字" ng-model="coldStorageLightSet.power" class="form-control" />
                                    </div>
                                </div>
                                <div class="form-group col-lg-8">
                                    <a class="btn btn-sm btn-primary pull-right" type='submit' ng-click="addColdStorageLightSet()" ng-disabled="!coldStorageLightSet.name">添加</a>
                                </div>
                            </div>
                            <div class="col-lg-6">
                          <label>已有灯组：</label>
                              <ajax-table array-objects="coldStorageLightSets"
                                            delete-url="/i/spiderConfig/delete/coldStorageLightSet"
                                            update-url="/i/spiderConfig/update/coldStorageLightSet"
                                            colums-th="名字,功率"
                                            colums="name,power"></ajax-table>
                            </div>
                        </form>
                        <!--防冻循环-->
                        <form id="addCirculatingPump" ng-show="choseDevice.table == 'circulatingpumpset'" class="col-lg-12 form-horizontal">
                            <div style="margin-top:30px;" class="col-lg-6">
                                <div class="form-group">
                                    <label class="control-label col-lg-4"><em style="color:red">*</em>名字:</label>
                                    <div class="col-lg-8">
                                        <input style="width:250px;" ng-model="circulatingPumpSet.name" class="form-control" />
                                    </div>
                                </div>
                                <div class="form-group col-lg-8">
                                    <a class="btn btn-sm btn-primary pull-right" type='submit' ng-click="addRdcIdAndName(circulatingPumpSet, choseDevice.table)" ng-disabled="!circulatingPumpSet.name">添加</a>
                                </div>
                            </div>
                            <div class="col-lg-6">
                            	<div><label>已有防冻循环：</label></div>
                                <table class="table table-striped table-bordered ng-pristine ng-untouched" style="margin-top:5px;">
                                    <thead>
                                    <tr>
                                        <th>名字</th>
                                        <th>操作</th>
                                    </tr>
                                    </thead>
                                    <tbody>
                                    <tr ng-repeat="item in circulatingPumpSets">
                                        <td>{{item.name}}</td>
                                        <td><a class="btn btn-danger btn-xs" ng-click="delById(choseDevice.table, item, circulatingPumpSets)"><span class="glyphicon glyphicon-minus"></span></a></td>
                                    </tr>
                                    </tbody>
                                </table>
                            </div>
                        </form>
                    </div>
                </uib-tab>

                <!--  -->
                <uib-tab>
                    <uib-tab-heading>
                        <i class="fa fa-table"></i>冷库配置
                    </uib-tab-heading>
                    <div class="col-lg-7">
                        <form class="navbar-form">
                            <div class="form-group">
                                <label>冷库：</label>
                                <select ng-options="storage.name for storage in storages" class="form-control" ng-model="vm.choseStorage" ng-change="changeStorage()"></select>
                            </div>
                        </form>
                        <div class="">
                            <table class="table table-striped table-bordered ng-pristine ng-untouched">
                                <thead>
                                    <tr>
                                        <th>采集数据描述名</th>
                                        <th>采集数据存储名(唯一)</th>
                                        <th>操作
                                            <a class="btn btn-success btn-xs" ng-click="vm.choseStorage.addItem=true">
                                                <span class="glyphicon glyphicon-plus"></span></a>
                                        </th>
                                    </tr>
                                </thead>
                                <tbody>
                                    <tr ng-repeat="(key,value) in vm.choseStorage.mapping">
                                        <td>{{value}}</td>
                                        <td>{{key}}</td>
                                        <td>
                                            <a class="btn btn-danger btn-xs" ng-click="deleteKey(vm.choseStorage.mapping,key)"><span class="glyphicon glyphicon-minus"></span></a>
                                            <!-- <a class="btn btn-success btn-xs" ng-click="vm.choseStorage.addItem=true"><span class="glyphicon glyphicon-plus"></span></a> -->
                                        </td>
                                    </tr>
                                    <tr ng-if="vm.choseStorage.addItem">
                                        <td><input ng-model="vm.itemInput" class="form-control" /></td>
                                        <td>
                                        	<select ng-options="item.desc for item in coldStorageKeys" ng-model="vm.choseItem" class="form-control"></select></td>
                                        <td>
                                            <a class="btn btn-primary btn-xs" ng-disabled="!vm.itemInput" 
                                            	ng-click="addKey(vm.choseStorage.mapping,vm.choseItem.key,vm.itemInput);resetItem('choseItem',vm.choseStorage)">
                                                <span class="glyphicon glyphicon-check"></span></a>
                                            <a class="btn btn-danger btn-xs" ng-click="resetItem('choseItem',vm.choseStorage)"><span class="glyphicon glyphicon-minus"></span></a>
                                        </td>
                                    </tr>
                                </tbody>
                            </table>
                        </div>
                    </div>
                    <div class="col-lg-12" style="margin-top:30px;">
                        <div class="col-lg-6">
                            <div class="">
                                <table class="table table-striped table-bordered ng-pristine ng-untouched">
                                    <thead>
                                        <tr>
                                            <th>门名字</th>
                                            <th>采集数据描述名</th>
                                            <th>采集数据存储名(唯一)</th>
                                            <th>操作</th>
                                        </tr>
                                    </thead>
                                    <tbody ng-repeat="door in doors">
                                        <tr ng-if="!objectLength(door.mapping) && !door.addItem">
                                            <td>{{door.name}}</td>
                                            <td></td>
                                            <td></td>
                                            <td>
                                                <a class="btn btn-success btn-xs" ng-click="door.addItem=true"><span class="glyphicon glyphicon-plus"></span></a>
                                            </td>
                                        </tr>
                                        <tr ng-repeat="(key,value) in door.mapping">
                                            <td rowspan="{{objectLength(door.mapping) + (door.addItem?1:0)}}" ng-if="$index == 0">{{door.name}}{{Object.keys(door).length}}</td>
                                            <td>{{value}}</td>
                                            <td>{{key}}</td>
                                            <td>
                                                <a class="btn btn-danger btn-xs" ng-click="deleteKey(door.mapping,key)"><span class="glyphicon glyphicon-minus"></span></a>
                                                <a class="btn btn-success btn-xs" ng-click="door.addItem=true"><span class="glyphicon glyphicon-plus"></span></a>
                                            </td>
                                        </tr>
                                        <tr ng-if="door.addItem">
                                            <td ng-if="!objectLength(door.mapping)">{{door.name}}</td>
                                            <td><input ng-model="vm.itemInput" class="form-control" /></td>
                                            <td><select ng-options="item.desc for item in doorKeys" ng-model="vm.choseItem" class="form-control"></select></td>
                                            <td>
                                                <a class="btn btn-primary btn-xs" ng-disabled="!vm.itemInput" ng-click="addKey(door.mapping, vm.choseItem.key, vm.itemInput);
			             	 	resetItem('choseItem',door)">
                                                    <span class="glyphicon glyphicon-check"></span></a>
                                                <a class="btn btn-danger btn-xs" ng-click="resetItem('choseItem',door)"><span class="glyphicon glyphicon-minus"></span></a>
                                            </td>
                                        </tr>
                                    </tbody>
                                </table>
                            </div>
                        </div>
                        <div class="col-lg-6">
                            <div class="">
                                <table class="table table-striped table-bordered ng-pristine ng-untouched">
                                    <thead>
                                        <tr>
                                            <th>风机名字</th>
                                            <th>采集数据描述名</th>
                                            <th>采集数据存储名(唯一)</th>
                                            <th>操作</th>
                                        </tr>
                                    </thead>
                                    <tbody ng-repeat="blower in blowers">
                                        <tr ng-if="!objectLength(blower.mapping) && !blower.addItem">
                                            <td>{{blower.name}}</td>
                                            <td></td>
                                            <td></td>
                                            <td>
                                                <a class="btn btn-success btn-xs" ng-click="blower.addItem=true"><span class="glyphicon glyphicon-plus"></span></a>
                                            </td>
                                        </tr>
                                        <tr ng-repeat="(key,value) in blower.mapping">
                                            <td rowspan="{{objectLength(blower.mapping) + (blower.addItem?1:0)}}" ng-if="$index == 0">{{blower.name}}{{Object.keys(blower).length}}</td>
                                            <td>{{value}}</td>
                                            <td>{{key}}</td>
                                            <td>
                                                <a class="btn btn-danger btn-xs" ng-click="deleteKey(blower.mapping,key)"><span class="glyphicon glyphicon-minus"></span></a>
                                                <a class="btn btn-success btn-xs" ng-click="blower.addItem=true"><span class="glyphicon glyphicon-plus"></span></a>
                                            </td>
                                        </tr>
<!--                                         <tr ng-if="blower.addItem && vm.choseBlowerItem.columnkey != 'handWrite'">
                                            <td ng-if="!objectLength(blower.mapping)">{{blower.name}}</td>
                                            <td><select ng-options="item.columnvalue for item in blowerItem" ng-model="vm.choseBlowerItem" class="form-control"></select></td>
                                            <td>{{vm.choseBlowerItem.columnkey}}</td>
                                            <td>
                                                <a class="btn btn-primary btn-xs" ng-click="addKey(blower.mapping,vm.choseBlowerItem.columnkey,vm.choseBlowerItem.columnvalue);
			                    resetItem(blowerItem,'choseBlowerItem',blower)">
                                                    <span class="glyphicon glyphicon-check"></span></a>
                                                <a class="btn btn-danger btn-xs" ng-click="resetItem(blowerItem,'choseBlowerItem',blower)"><span class="glyphicon glyphicon-minus"></span></a>
                                            </td>
                                        </tr> -->
                                        <tr ng-if="blower.addItem">
                                            <td ng-if="!objectLength(blower.mapping)">{{blower.name}}</td>
                                            <td><input ng-model="vm.itemInput" class="form-control" /></td>
                                            <td><select ng-options="item.key for item in blowerKeys" ng-model="vm.choseBlowerItem" class="form-control"></select></td>
                                            <td>
                                                <a class="btn btn-primary btn-xs" ng-disabled="!vm.itemInput" ng-click="addKey(blower.mapping, vm.choseBlowerItem.key, vm.itemInput);
			             	 	resetItem('choseBlowerItem',blower)">
                                                    <span class="glyphicon glyphicon-check"></span></a>
                                                <a class="btn btn-danger btn-xs" ng-click="resetItem('choseBlowerItem',blower)"><span class="glyphicon glyphicon-minus"></span></a>
                                            </td>
                                        </tr>
                                    </tbody>
                                </table>
                            </div>
                        </div>
                    </div>
                    <div class="col-lg-12">
                        <div class="col-lg-6">
                            <div class="">
                                <table class="table table-striped table-bordered ng-pristine ng-untouched">
                                    <thead>
                                    <tr>
                                        <th>风幕机名字</th>
                                        <th>采集数据描述名</th>
                                        <th>采集数据存储名(唯一)</th>
                                        <th>操作</th>
                                    </tr>
                                    </thead>
                                    <tbody ng-repeat="item in windScreenSets">
                                    <tr ng-if="!objectLength(item.mapping) && !item.addItem">
                                        <td>{{item.name}}</td>
                                        <td></td>
                                        <td></td>
                                        <td>
                                            <a class="btn btn-success btn-xs" ng-click="item.addItem=true"><span class="glyphicon glyphicon-plus"></span></a>
                                        </td>
                                    </tr>
                                    <tr ng-repeat="(key,value) in item.mapping">
                                        <td rowspan="{{objectLength(item.mapping) + (item.addItem?1:0)}}" ng-if="$index == 0">{{item.name}}{{Object.keys(item).length}}</td>
                                        <td>{{value}}</td>
                                        <td>{{key}}</td>
                                        <td>
                                            <a class="btn btn-danger btn-xs" ng-click="deleteKey(item.mapping,key)"><span class="glyphicon glyphicon-minus"></span></a>
                                            <a class="btn btn-success btn-xs" ng-click="item.addItem=true"><span class="glyphicon glyphicon-plus"></span></a>
                                        </td>
                                    </tr>
                                    <tr ng-if="item.addItem">
                                        <td ng-if="!objectLength(item.mapping)">{{item.name}}</td>
                                        <td><input ng-model="vm.itemInput" class="form-control" /></td>
                                        <td><select ng-options="item.desc for item in windscreenKeys" ng-model="vm.choseItem" class="form-control"></select></td>
                                        <td>
                                            <a class="btn btn-primary btn-xs" ng-disabled="!vm.itemInput" ng-click="addKey(item.mapping, vm.choseItem.key, vm.itemInput);
			             	 	resetItem('choseItem',item)">
                                                <span class="glyphicon glyphicon-check"></span></a>
                                            <a class="btn btn-danger btn-xs" ng-click="resetItem('choseItem',item)"><span class="glyphicon glyphicon-minus"></span></a>
                                        </td>
                                    </tr>
                                    </tbody>
                                </table>
                            </div>
                        </div>
                    </div>
                    <div class="col-lg-12">
                        <button class="btn btn-primary pull-right" ng-click="realSaveStorage()">保存</button>
                    </div>
                </uib-tab>
                <uib-tab>
                    <uib-tab-heading>
                        <i class="fa fa-table"></i>压缩机组配置
                    </uib-tab-heading>
                    <div class="col-lg-7">
                        <form class="navbar-form">
                            <div class="form-group">
                                <label>压缩机组：</label>
                                <select ng-options="compressGroup.name for compressGroup in compressGroups" class="form-control"
                                        ng-model="vm.choseCompressGroup"
                                        ng-change="changeCompressGroup()"></select>
                            </div>
                        </form>
                        <div class="">
                            <table class="table table-striped table-bordered ng-pristine ng-untouched">
                                <thead>
                                    <tr>
                                        <th>采集数据描述名</th>
                                        <th>采集数据存储名(唯一)</th>
                                        <th>操作
                                            <a class="btn btn-success btn-xs" ng-click="vm.choseCompressGroup.addItem=true">
                                                <span class="glyphicon glyphicon-plus"></span></a>
                                        </th>
                                    </tr>
                                </thead>
                                <tbody>
                                    <tr ng-repeat="(key,value) in vm.choseCompressGroup.mapping">
                                        <td>{{value}}</td>
                                        <td>{{key}}</td>
                                        <td>
                                            <a class="btn btn-danger btn-xs" ng-click="deleteKey(vm.choseCompressGroup.mapping,key)"><span class="glyphicon glyphicon-minus"></span></a>
                                            <a class="btn btn-success btn-xs" ng-click="vm.choseCompressGroup.addItem=true"><span class="glyphicon glyphicon-plus"></span></a>
                                        </td>
                                    </tr>

                                    <tr ng-if="vm.choseCompressGroup.addItem">
                                        <td><input ng-model="vm.itemInput" class="form-control" /></td>
                                        <td><select ng-options="item.desc for item in compressorGroupKeys" ng-model="vm.choseCompressGroupItem" class="form-control"></select></td>
                                        <td>
                                            <a class="btn btn-primary btn-xs" ng-disabled="!vm.itemInput"
                                            	ng-click="addKey(vm.choseCompressGroup.mapping,vm.choseCompressGroupItem.key,vm.itemInput);
			                    resetItem('choseCompressGroupItem',vm.choseCompressGroup)">
                                                <span class="glyphicon glyphicon-check"></span></a>
                                            <a class="btn btn-danger btn-xs" ng-click="resetItem('choseCompressGroupItem',vm.choseCompressGroup)"><span class="glyphicon glyphicon-minus"></span></a>
                                        </td>
                                    </tr>
                                </tbody>
                            </table>
                        </div>
                    </div>
                    <div class="col-lg-7" >
                        <form class="navbar-form">
                            <div class="form-group">
                                <label>压缩机：</label>
                                <select ng-options="item.name for item in compressorSets" class="form-control" ng-model="vm.choseCompressor"></select>
                            </div>
                        </form>
                        <div class="">
                            <table class="table table-striped table-bordered ng-pristine ng-untouched">
                                <thead>
                                <tr>
                                    <th>采集数据描述名</th>
                                    <th>采集数据存储名(唯一)</th>
                                    <th>操作
                                        <a class="btn btn-success btn-xs" ng-click="vm.choseCompressor.addItem=true">
                                            <span class="glyphicon glyphicon-plus"></span></a>
                                    </th>
                                </tr>
                                </thead>
                                <tbody>
                                <tr ng-repeat="(key,value) in vm.choseCompressor.mapping">
                                    <td>{{value}}</td>
                                    <td>{{key}}</td>
                                    <td>
                                        <a class="btn btn-danger btn-xs" ng-click="deleteKey(vm.choseCompressor.mapping,key)"><span class="glyphicon glyphicon-minus"></span></a>
                                        <a class="btn btn-success btn-xs" ng-click="vm.choseCompressor.addItem=true"><span class="glyphicon glyphicon-plus"></span></a>
                                    </td>
                                </tr>

                                <tr ng-if="vm.choseCompressor.addItem">
                                    <td><input ng-model="vm.itemInput" class="form-control" /></td>
                                    <td><select ng-options="item.desc for item in compressorKeys" ng-model="vm.choseItem" class="form-control"></select></td>
                                    <td>
                                        <a class="btn btn-primary btn-xs" ng-disabled="!vm.itemInput"
                                           ng-click="addKey(vm.choseCompressor.mapping,vm.choseItem.key,vm.itemInput);
			                    resetItem('choseItem',vm.choseCompressor)">
                                            <span class="glyphicon glyphicon-check"></span></a>
                                        <a class="btn btn-danger btn-xs" ng-click="resetItem('choseItem',vm.choseCompressor)"><span class="glyphicon glyphicon-minus"></span></a>
                                    </td>
                                </tr>
                                </tbody>
                            </table>
                        </div>
                    </div>
                    <div class="col-lg-7">
                        <button class="btn btn-primary pull-right" ng-click="realSaveCompressGroup()">保存</button>
                    </div>
                </uib-tab>

				<uib-tab>
                    <uib-tab-heading>
                        <i class="fa fa-table"></i>冷凝系统配置
                    </uib-tab-heading><br/>
                    <form class="navbar-form">
                            <div class="form-group">
                                <label>冷凝系统</label>
                                <select ng-options="item.name for item in evaporativeSets" class="form-control" 
                                ng-model="vm.choseEvaporative" ng-change="changeEvaporative()"></select>
                            </div>
                        </form>
                    <div class="row">
                        <div class="col-lg-6" >
                        <mapping-table data-name="冷凝系统风机" object-keys="evaporativeblowerKeys" object-sets="evaporativeBlowerSets"></mapping-table>
                    	</div>
                    	<div class="col-lg-6" >
                        <mapping-table data-name="冷凝系统水泵" object-keys="evaporativewaterKeys" object-sets="evaporativeWaterSets"></mapping-table>
                    	</div>
                    </div>
                    <button class="btn btn-primary pull-right" ng-click="realSaveEvaporative()">保存</button>
                </uib-tab>

                <uib-tab>
                    <uib-tab-heading>
                        <i class="fa fa-table"></i>电表配置
                    </uib-tab-heading><br/>
                    <div class="row">
                        <div class="col-lg-6">
                            <mapping-table data-name="电表名" data-table="powerset" object-keys="powerKeys" object-sets="powerSets"></mapping-table>
                        </div>
                    </div>
                </uib-tab>
                <uib-tab>
                    <uib-tab-heading>
                        <i class="fa fa-table"></i>其他配置
                    </uib-tab-heading><br/>
                    <div class="row">
                        <div class="col-lg-6">
                            <mapping-table data-name="月台门" data-table="platformdoorset" object-sets="platformDoorSets" object-keys="platformdoorKeys"></mapping-table>
                        </div>
                        <div class="col-lg-6">
                            <mapping-table data-name="液压平台" data-table="pressureplatformset" object-sets="pressurePlatformSets" object-keys="pressureplatformKeys"></mapping-table>
                        </div>

                        <div class="col-lg-6">
                            <mapping-table data-name="充电桩" data-table="chargingpileset" object-sets="chargingpileSets" object-keys="chargingpileKeys"></mapping-table>
                        </div>
                        <div class="col-lg-6">
                            <mapping-table data-name="叉车" data-table="forkliftset" object-sets="forkliftSets" object-keys="forkliftKeys"></mapping-table>
                        </div>
                        <div class="col-lg-6">
                            <mapping-table data-name="灯组" data-table="coldstoragelightset" object-sets="coldStorageLightSets" object-keys="coldstoragelightKeys"></mapping-table>
                        </div>
                        <div class="col-lg-6">
                            <mapping-table data-name="防冻循环泵" data-table="circulatingpumpset" object-sets="circulatingPumpSets" object-keys="circulatingpumpKeys"></mapping-table>
                        </div>
                        <div class="col-lg-6">
                            <label for="">环境温度和地泵出水温度</label>
                            <table class="table table-striped table-bordered ng-pristine ng-untouched">
                                <thead>
                                <tr>
                                    <th>采集数据描述名</th>
                                    <th>采集数据存储名(唯一)</th>
                                    <th>操作
                                        <a class="btn btn-success btn-xs" ng-click="vm.choseRdc.addItem=true">
                                            <span class="glyphicon glyphicon-plus"></span></a>
                                    </th>
                                </tr>
                                </thead>
                                <tbody>
                                <tr ng-repeat="(key,value) in vm.choseRdc.mapping">
                                    <td>{{value}}</td>
                                    <td>{{key}}</td>
                                    <td>
                                        <a class="btn btn-danger btn-xs" ng-click="deleteKey(vm.choseRdc.mapping,key)"><span class="glyphicon glyphicon-minus"></span></a>
                                    </td>
                                </tr>

                                <tr ng-if="vm.choseRdc.addItem">
                                    <td><input ng-model="vm.itemInput" class="form-control" /></td>
                                    <td><input type="text" ng-model="vm.inputKey" class="form-control" ></td>
                                    <td>
                                        <a class="btn btn-primary btn-xs" ng-disabled="!vm.itemInput"
                                           ng-click="addKey(vm.choseRdc.mapping,vm.inputKey,vm.itemInput);
			                    resetItem('inputKey',vm.choseRdc)">
                                            <span class="glyphicon glyphicon-check"></span></a>
                                        <a class="btn btn-danger btn-xs" ng-click="resetItem('inputKey',vm.choseRdc)"><span class="glyphicon glyphicon-minus"></span></a>
                                    </td>
                                </tr>
                                </tbody>
                            </table>
                            <button class="btn btn-primary pull-right" ng-click="realSaveRdc()">保存</button>
                        </div>
                    </div>
                </uib-tab>
                <uib-tab>
                    <uib-tab-heading>
                        <i class="fa fa-table"></i>告警配置
                    </uib-tab-heading><br/>
                    <div class="col-lg-7">
                        <table class="table table-striped table-bordered ng-pristine ng-untouched">
                            <thead>
                                <tr>
                                    <th>告警名</th>
                                    <th>操作
                                        <a class="btn btn-success btn-xs" ng-click="vm.addWarning=true">
                                            <span class="glyphicon glyphicon-plus"></span></a>
                                    </th>
                                </tr>
                            </thead>
                            <tbody>
                                <tr ng-repeat="warning in vm.warnings">
                                    <td>{{warning}}</td>
                                    <td>
                                        <a class="btn btn-danger btn-xs" ng-click="deleteWarning(warning)"><span class="glyphicon glyphicon-minus"></span></a>
                                        <a class="btn btn-success btn-xs" ng-click="vm.addWarning=true"><span class="glyphicon glyphicon-plus"></span></a>
                                    </td>
                                </tr>
                                <tr ng-if="vm.addWarning">
                                    <td><input class="form-control" placeholder="告警名" ng-model="vm.warning" /></td>
                                    <td>
                                        <a class="btn btn-primary btn-xs" ng-click="addWaringValue()">
                                            <span class="glyphicon glyphicon-check"></span></a>
                                        <a class="btn btn-danger btn-xs" ng-click="vm.addWarning=false"><span class="glyphicon glyphicon-minus"></span></a>
                                    </td>
                                </tr>
                            </tbody>
                        </table>
                        <button class="btn btn-primary pull-right" ng-click="realSaveWarning()">保存</button>
                    </div>
                </uib-tab>

                <uib-tab>
                    <uib-tab-heading>
                        <i class="fa fa-table"></i>账号配置
                    </uib-tab-heading>
                    <div class="col-lg-5 col-lg-offset-3" style="margin-top:50px;">
                        <form class="navbar-form">
                            <div class="form-group">
                                <label>用户名:&nbsp;&nbsp;</label>
                                <input style="width:250px;" ng-model="vm.username" class="form-control" />
                            </div>
                        </form>
                        <form class="navbar-form">
                            <div class="form-group">
                                <label>密&nbsp;&nbsp;&nbsp;&nbsp;码:&nbsp;&nbsp;</label>
                                <input style="width:250px;" ng-model="vm.password" class="form-control" />
                            </div>
                        </form>
                        <form class="navbar-form">
                            <div class="navbar-form" style="text-align: center;"> 
                                <a class="btn btn-sm btn-danger" type='submit' ng-click="deleteAccount()">删除</a>
                                <a class="btn btn-sm btn-primary" type='submit' style="margin: 0 10px;" ng-click="saveAccount()">保存</a>
                            </div>
                        </form>
                    </div>
                </uib-tab>
                <uib-tab>
                    <uib-tab-heading>
                        <i class="fa fa-table"></i>标签采集配置
                    </uib-tab-heading><br/>
                    <div class="row">
                        <form class="navbar-form">
                            <div class="form-group">
                                <label>类型：</label>
                                <select class="form-control"
                                        ng-model="tag.type"
                                        ng-change="tagTypeChanged()"
                                        ng-options="item.desc for item in storageTypes track by item.type"></select>
                            </div>
                            <div class="form-group"
                                     ng-show="tag.type.name == '添加冷库门' || tag.type.table == 'blowerset' || tag.type.table=='windscreenset' ">
                                <label>冷库：</label>
                                <select ng-options="storage.name for storage in storages" class="form-control" ng-model="vm.choseStorage" ng-change="changeStorage()"></select>
                            </div>
                            <div class="form-group" ng-show="tag.type.table == 'compressorset' || tag.type.table == 'evaporativewaterset' || tag.type.table =='evaporativeblowerset' ">
                                <label>压缩机组：</label>
                                <select ng-options="item.name for item in compressGroups" class="form-control" ng-model="vm.choseCompressGroup" ng-change="changeCompressGroup()"></select>
                            </div>
                            <div class="form-group" ng-show="">
                                <label>蒸发冷系统：</label>
                                <select ng-options="item.name for item in evaporativeSets" class="form-control" ng-model="vm.choseEvaporative" ng-change="changeEvaporative()"></select>
                            </div>
                            <div class="form-group">
                                <label>映射对象：</label>
                                <select class="form-control"
                                        ng-model="tag.oid"
                                        ng-options="item.name for item in objectsOid"
                                        ng-change="changeOid()"></select>
                            </div>
                            <div class="form-group">
                                <label>deviceId：</label>
                                <input class="form-control" type="text" ng-model="tag.deviceid" >
                            </div>
                            <div class="form-group">
                                <button class="btn btn-primary" ng-click="addTag()">添加</button>
                            </div>
                        </form>
                    </div>
                    <div class="col-lg-5">
                        <table class="table table-striped table-bordered ng-pristine ng-untouched">
                            <tr>
                                <th>deviceid</th>
                                <th>操作</th>
                            </tr>
                            <tr ng-repeat="item in deviceObjectMapping">
                                <td>{{item.deviceid}}</td>
                                <td><a class="btn btn-danger btn-xs" ng-click="delDeviceObjectMapping( item, deviceObjectMapping)"><span
                                        class="glyphicon glyphicon-minus"></span></a></td>
                            </tr>
                        </table>
                    </div>
                </uib-tab>
                
                
                  <uib-tab>
                    <uib-tab-heading>
                        <i class="fa fa-table"></i>权重配置
                    </uib-tab-heading>
                    <br/>
                    <div class="col-lg-12">
                        <div class="col-lg-5">
                            <form class="form-horizontal">
                                <div class="form-group">
                                    <label class="col-lg-3 control-label"><em style="color:red">*</em>超温因子系数</label>
                                    <div class="col-lg-9">
                                        <input  type="number"   ng-model="weight.factor1" class="form-control"/>
                                        <input  type="hidden"   ng-model="weight.id" class="form-control"/>
                                    </div>
                                </div>
                                <div class="form-group">
                                    <label for="" class="col-lg-3 control-label"><em style="color:red">*</em>温差系数：</label>
                                    <div class="col-lg-9">
                                        <input  type="number"  ng-model="weight.factor2" class="form-control"/>
                                    </div>
                                </div>
                                <div class="form-group">
                                    <label for="" class="col-lg-3 control-label"> <em style="color:red">* </em>保温因子系数： </label>
                                    <div class="col-lg-9">
                                        <input   type="number"  ng-model="weight.factor3" class="form-control"/>
                                    </div>
                                </div>
                                <div class="form-group">
                                    <label for="" class="col-lg-3 control-label"> <em style="color:red">*</em>降温因子系数： </label>
                                    <div class="col-lg-9">
                                        <input   type="number"  ng-model="weight.factor4" class="form-control"/>
                                    </div>
                                </div>
                                
                                <div class="form-group">
                                    <label for="" class="col-lg-3 control-label"><em style="color:red">* </em>开门系数：</label>
                                    <div class="col-lg-9">
                                        <input   type="number"  ng-model="weight.transport1" class="form-control"/>
                                    </div>
                                </div>
                                <div class="form-group">
                                    <label for="" class="col-lg-3 control-label"><em style="color:red">*</em>货物吨位系数：</label>
                                    <div class="col-lg-9">
                                        <input   type="number"  ng-model="weight.transport2" class="form-control"/>
                                    </div>
                                </div>
                                
                                
                                 <div class="form-group">
                                    <label for="" class="col-lg-3 control-label"><em style="color:red">*</em>QE系数</label>
                                    <div class="col-lg-9">
                                        <input   type="number" ng-model="weight.crew1" class="form-control"/>
                                    </div>
                                </div>
                                 <div class="form-group">
                                    <label for="" class="col-lg-3 control-label"><em style="color:red">*</em>高温报警系数：</label>
                                    <div class="col-lg-9">
                                        <input   type="number" ng-model="weight.crew2" class="form-control"/>
                                    </div>
                                </div>
                                 <div class="form-group">
                                    <label for="" class="col-lg-3 control-label"><em style="color:red">*</em>常规报警系数：</label>
                                    <div class="col-lg-9">
                                        <input   type="number" ng-model="weight.crew3" class="form-control"/>
                                    </div>
                                </div>
                                <div class="form-group">
                                    <label for="" class="col-lg-3 control-label"></label>
                                    <div class="col-lg-9">
                                        <button class="btn btn-primary" ng-click="saveRdcWeight()">保存</button>
                                    </div>
                                </div>
                            </form>
                        </div>
                        <div class="col-lg-7 hide">
                            <table class="table table-striped table-bordered ng-pristine ng-untouched">
                                <tr>
                                    <th>温度因子权重1</th>
                                    <th>温度因子权重2</th>
                                    <th>温度因子权重3</th>
                                    <th>运管权重1</th>
                                    <th>运管权重2</th>
                                    <th>运管权重3</th>
                                    <th>机组权重1</th>
                                    <th>机组权重2</th>
                                    <th>机组权重3</th>
                                    <th>操作</th>
                                </tr>
                                <tr  ng-repeat="item in weightdisplay">
                                    <td>{{item.factor1}}</td>
                                    <td>{{item.factor2}}</td>
                                    <td>{{item.factor3}}</td>
                                    <td>{{item.transport1}}</td>
                                    <td>{{item.transport2}}</td>
                                    <td>{{item.transport3}}</td>
                                    <td>{{item.crew1}}</td>
                                    <td>{{item.crew2}}</td>
                                    <td>{{item.crew3}}</td>
                                    <td>
                                        <a class="btn btn-danger btn-xs" ng-click="delRdcWeight(item)">
                                            <span class="glyphicon glyphicon-minus"></span>
                                        </a>
                                    </td>
                                </tr>
                            </table>
                        </div>
                    </div>
                </uib-tab>
                
                
                <uib-tab>
                    <uib-tab-heading>
                        <i class="fa fa-table"></i>告警设置
                    </uib-tab-heading>
                    <div class="row" style="margin-top: 20px;">
                        <form id="maintaincform" class="  form-horizontal" >
							<div class="form-group">
								<label class="col-sm-2 control-label">超级管理人员：</label>
								<div class="col-sm-5">
									<input class="form-control" name="muid" ng-model="mg.muid"  type="text" disabled="disabled" >
									<input name="id" value={{mg.id}} type="hidden"  >
									<input value="{{vm.choseRdc.id}}"  name="rdcid" type="hidden"  >
									<input type="hidden" name="mtelephone" ng-model="mg.mtelephone"   >
								</div>
							</div>
							<div class="form-group">
								<label class="col-sm-2 control-label">普通管理人员：</label>
								<div class="col-sm-5">
									<input class="form-control" name="uuid" ng-model="mg.uuid"  type="text" disabled="disabled" >
									<input type="hidden" name="uTelephone" ng-model="mg.uTelephone"   >
								</div>
							</div>
							<div class="form-group">
								<label class="col-sm-2 control-label" >备用通知电话：</label>
								<div class="col-sm-5">
									<input class="form-control" name="aTelephone" type="text" ng-model="mg.aTelephone" ng-blur="vccheckalltp()" title="多个请使用;隔开！" placeholder="多个请使用;隔开！" >
								</div>
							</div>
							<div class="form-group">
								<label class="col-sm-2 control-label" >间隔时间：</label>
								<div class="col-sm-5">
									<input class="form-control" value="30" disabled="disabled" >
								</div>
							</div>
							<div class="form-group">
								<label class="col-sm-2 control-label" >监听对象：</label>
								<div class="col-sm-10 btn_group">
									<button class="btn" value="1">冷库</button>
									<button class="btn" value="2">冷库门</button>
									<button class="btn" value="3">压缩机组</button>
									<button class="btn" value="4">风机</button>
								</div>
							</div>
							<div class="form-group ">
								<div class="col-sm-3 " >
								  <button class="btn btn-sm btn-danger pull-right" style="margin-left:20px;" type='submit' ng-click="resetmg()">取消</button>
                                  <button class="btn btn-sm btn-primary pull-right" type='submit' ng-click="savemg()">修改</button>
                                 </div>
							</div>
						</form>
                    </div>
                </uib-tab>
            </uib-tabset>
        </div>
    </div>
</div>