<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <!--  <meta http-equiv="refresh" content="10"> -->
    <meta charset="utf-8" name="keywords" content="链库,链库网,冷库360,冷库,冷链,智慧冷库,冷库节能,冷库监控,冷库智能管理,冷库能效评估,温度追溯,冷链物流,冷链电商"/>
    <meta charset="utf-8" name="description" content="冷库智能管理与云服务平台。国内最大、最权威的冷库信息平台，以及冷库管理可视化与能效在线评估系统。"/>
    <meta name="viewport"
          content="width=device-width, user-scalable=no, initial-scale=1, maximum-scale=1, minimum-scale=1">
    <title>发布库</title>
    <link rel="stylesheet" type="text/css" href="../com/css/common.css">
    <link rel="stylesheet" type="text/css" href="../com/css/layer.css">
    <link rel="stylesheet" type="text/css" href="../com/css/release.css">
    <link rel="stylesheet" type="text/css" href="../com/css/newRelease.css">
    <link rel="stylesheet" type="text/css" href="../com/css/reset.css">
    <script type="text/javascript" src="../com/js/jquery-3.1.0.min.js"></script>
    <script type="text/javascript" src="../com/js/common.js"></script>
    <script type="text/javascript" src="../com/js/layer.js"></script>
    <script type="text/javascript" src="../com/js/jquery.city.select.min.js"></script>
    <script type="text/javascript" src="../com/js/prettify.js"></script>
    <script src="../bower_components/angular/angular.min.js"></script>
    <script src="../bower_components/ng-remote-validate/release/ngRemoteValidate.0.6.1.min.js"></script>
    <script type="text/javascript" src="../bower_components/ng-file-upload/ng-file-upload-all.min.js"></script>
    <script type="text/javascript" src="../app/js/coldStorageAdd.js"></script>
</head>
<body ng-app="rdcadd" ng-controller="coldStorageAdd">
<!-- header -->
<header>
    <div class="area fl">
        <a href="release.html"><i class="iconfont">&#xe602;</i></a>
    </div>
    <div class="zoom fr"><a href="../index.html"><i class="iconfont">&#xe639;</i></a></div>
    <div class="txt">
        冷库基本信息
    </div>
</header>
<!-- header end-->
<section class="releaseCold">
    <div class="releaseImg"></div>
    <ul class="houseinfo">
        <li>
            <label>名称<em>*</em></label>
            <form name="rdcForm" class="fr" style="width:85%;">
                <input type="text" ng-model="name" ng-disabled="editable" name="name"
                       ng-remote-validate="http://liankur.com/i/rdc/checkName"
                       ng-remote-method="GET" placeholder="请输入冷库名称">
                <em ng-show="rdcForm.name.$error.ngRemoteValidate" style="font-size:0.5rem;float:right;"
                    ng-bind="againTxt='冷库名已被用'"></em>
            </form>
        </li>
        <li>
            <label>省<em>*</em></label>
            <div class="mySelect">
                <select ng-model="provinceId" ng-disabled="editable"
                        ng-change="provinceSelected(provinceId)"
                        ng-options="x.provinceId as x.provinceName for x in provinces"></select>
            </div>
            <i class="iconfont fr moreinfo">&#xe697;</i>
        </li>
        <li>
            <label>市<em>*</em></label>
            <div class="mySelect">
                <select ng-model="cityId"
                        ng-change="citySelected(cityId)"
                        ng-options="x.cityID as x.cityName for x in citys"></select>
            </div>
            <i class="iconfont fr moreinfo">&#xe697;</i>
        </li>
        <li>
            <label>地理位置<em>*</em></label>
            <input type="text" ng-model="address" placeholder="请输入地理位置"/>
        </li>
        <li>
            <label>总面积</label>
            <input type="number" step="0.01" ng-model="area" placeholder="冷库面积(㎡)"/>
        </li>
        <li>
            <label>总容量<em>*</em></label>
            <input type="number" step="0.01" ng-model="totalcapacity" placeholder="冷库容量"/>
        </li>
        <li>
            <label>容量单位<em>*</em></label>
            <div class="mySelect">
                <select ng-model="capacityunit" ng-init="capacityunit='m³'">
                    <option value=""></option>
                    <option value="m³" ng-selected="1">m³</option>
                    <option value="托">托</option>
                    <option value="吨">吨</option>
                </select>
            </div>
            <i class="iconfont fr moreinfo">&#xe697;</i>
        </li>
        <li>
            <label>可出租容量<em>*</em></label>
            <input type="number" step="0.01" ng-model="rentSqm" placeholder="可出租容量"/>
        </li>
        <li>
            <label>容量单位<em>*</em></label>
            <div class="mySelect">
                <select ng-model="rentcapacityunit" ng-init="rentcapacityunit='m³'">
                    <option value=""></option>
                    <option value="㎡">㎡</option>
                    <option value="m³" ng-selected="1">m³</option>
                    <option value="托">托</option>
                    <option value="吨">吨</option>
                </select>
            </div>
            <i class="iconfont fr moreinfo">&#xe697;</i>
        </li>
        <li>
            <label>冷库总净高<em>*</em></label>
            <input type="number" step="0.01" ng-model="height" placeholder="冷库净高(m)"/>
        </li>
        <li>
            <label>经营类型<em>*</em></label>
            <div class="mySelect">
                <select ng-model="manageType"
                        ng-change="ManageTypeSelected(manageType)"
                        ng-options="x.id as x.type for x in manageTypes"></select>
            </div>
            <i class="iconfont fr moreinfo">&#xe697;</i>
        </li>
        <li>
            <label>商品存放类型<em>*</em></label>
            <div class="mySelect">
                <select ng-model="storageType"
                        ng-change="StorageTypeSelected(storageType)"
                        ng-options="x.id as x.type for x in storageTypes"></select>
            </div>
            <i class="iconfont fr moreinfo">&#xe697;</i>
        </li>
        <li>
            <label>温度类型<em>*</em></label>
            <div class="mySelect">
                <select ng-model="temperType" ng-options="x.id as x.type for x in temperTypes"></select>
            </div>
            <i class="iconfont fr moreinfo">&#xe697;</i>
        </li>
        <li>
            <label>建筑结构<em>*</em></label>
            <div class="mySelect">
                <select ng-model="structure"
                        ng-options="x.id as x.type for x in structures"></select>
            </div>
            <i class="iconfont fr moreinfo">&#xe697;</i>
        </li>
        <li>
            <label>建筑类型<em>*</em></label>
            <div class="mySelect">
                <select ng-model="buildtype" ng-change="changeBuildType()" ng-init="buildtype=1">
                    <option value="0"></option>
                    <option value="1" ng-selected="1">单层库</option>
                    <option value="2">多层库</option>
                </select>
            </div>
            <i class="iconfont fr moreinfo">&#xe697;</i>
        </li>
        <li ng-show="isBuildFloors">
            <label>冷库层数<em>*</em></label>
            <input type="number" ng-model="buildfloors" placeholder="请输入冷库层数"/>
        </li>
        <li>
            <label>是否有封闭月台<em>*</em></label>
            <div class="mySelect">
                <select ng-model="platform"
                        ng-options="x.id as x.name for x in haveOrNots"></select>
            </div>
            <i class="iconfont fr moreinfo">&#xe697;</i>
        </li>
        <li>
            <label>存放商品品类<em>*</em></label>
            <div class="clearfix">
                <label ng-repeat="pro in productCategorys" class="omg lableGroup">
                     <input type="checkbox" name="productcategory"
                            value="{{pro.type_name}}"
                            ng-click="updateSelection($event,pro.type_name)"
                            ng-checked="isSelected(pro.type_name)"/>
                     <i class="iconfont" ng-if="!isSelected(pro.type_name)">&#xe61b;</i>
                     <i class="iconfont" style="color: #4287ff;" ng-if="isSelected(pro.type_name)">&#xe61b;</i>
                     <span>{{pro.type_name}}</span>
                </label>
            </div>
            <i class="iconfont fr moreinfo">&#xe697;</i>
        </li>
        <li>
            <label>冷库图片<em>*</em></label>
            <label class="pic">
                <input type="file" ngf-select="addFiles($files)" ng-model="files" ngf-multiple="true"
                       accept="image/gif, image/bmp, image/jpg, image/jpeg, image/png" name="files">
            </label>
            <output class="img_list">
                <span ng-repeat="file in totalfiles">
                    <img class="thumb" ngf-src="file" title="{{file.name}}">
                    <i ng-click="drop(file)">×</i>
                </span>
            </output>
            <label style="font-size: .5rem">
                <small class="text-warning">上传3-5张实体图片，不能重复上传，每张小于10M</small>
            </label>
        </li>

        <li>
            <label>联系电话<em>*</em></label>
            <input type="number" ng-model="phoneNum" placeholder="请输入联系方式"/>
        </li>
    </ul>
    <ul class="houseinfo black">
        <li>
            <label>备注</label>
            <input type="text" ng-model="remark" placeholder="选填"/>
        </li>
        <li class="rdcImg">
            <label>冷链委温度达标库</label>
            <div id="tempStandDiv" style="display: inline-block">
                <label><input ng-value="1" type="radio" name="isJoinStand" ng-model="isJoinStand">是</label>
                <label><input ng-value="2" type="radio" ng-click="droptempStandPic()" name="isJoinStand" ng-model="isJoinStand">愿意申报</label>
                <label><input ng-value="3" type="radio" ng-click="droptempStandPic()" name="isJoinStand" ng-model="isJoinStand">否</label>
            </div>
            <ul id="tempStandUl">
                <li class="black">
                    <label class="pic">
                        <input type="file" ngf-select="addTempStandPic($files)" ng-model="tempStandfile" ngf-multiple="false"
                               accept="image/gif, image/bmp, image/jpg, image/jpeg, image/png"
                               name="tempStandfile">
                    </label>
                    <output class="img_list">
                                <span ng-repeat="tempStand in tempStandPic">
                                    <img class="thumb" ngf-src="tempStand" title="{{tempStand}}">
                                    <i ng-click="droptempStandPic()">×</i>
                                </span>
                    </output>
                    <label style="font-size: .5rem">
                        <small class="text-warning">请上传温度达标冷库认证铜牌或证书，小于10M</small>
                    </label>
                </li>
                <li class="black">
                    <span>请拨打400-853-5606 申报</span>
                </li>
            </ul>
            <!-- <div>
                 <span>是否愿意公开冷库温度曲线</span>
                 <label><input ng-value="1" ng-model="openLIne" type="radio" name="openLIne">是</label>
                 <label><input ng-value="2" ng-model="openLIne" type="radio" name="openLIne">否</label>
             </div>-->
        </li>
        <li>
            <label>是否愿意公开冷库温度曲线</label>
            <label style="margin-right: 0.5rem"><input ng-value="1" ng-model="openLIne" type="radio" name="openLIne">是</label>
            <label><input ng-value="2" ng-model="openLIne" type="radio" name="openLIne">否</label>
        </li>
        <li class="number tac">
            <label>冷藏车数量</label>
            <div>
                <div>
                    <span><1.8T</span>
                    <input type="number" ng-model="coldTruck1"><span>辆</span>
                </div>
                <div>
                    <span>1.8T-6T</span>
                    <input type="number" ng-model="coldTruck2"><span>辆</span>
                </div>
                <div>
                    <span>6T-14T</span>
                    <input type="number" ng-model="coldTruck3"><span>辆</span>
                </div>
                <div>
                    <span>>14T</span>
                    <input type="number" ng-model="coldTruck4"><span>辆</span>
                </div>
            </div>
        </li>
        <li>
            <label>是否有理货区</label>
            <div class="mySelect">
                <select ng-model="lihuoRoom" ng-change="ChangLihuoState(lihuoRoom)"
                        ng-options="x.id as x.name for x in haveOrNots"></select>
            </div>
            <i class="iconfont fr moreinfo">&#xe697;</i>
        </li>
        <li ng-if="islihuoRoom">
            <label>理货区面积</label>
                <input type="number" step="0.01" ng-model="$parent.lihuoArea" placeholder="面积" style="font-size: 0.75rem;text-indent: 1em;">
        </li>
        <li>
            <label>有无温控</label>
            <div class="mySelect">
                <select ng-model="lihuoTemperCtr"
                        ng-options="x.id as x.name for x in haveOrNots"></select>
            </div>
            <i class="iconfont fr moreinfo">&#xe697;</i>
        </li>
        <li>
            <label>制冷剂类型</label>
            <div class="mySelect">
                <select ng-model="storageRefreg"
                        ng-change="StorageRefregSelected(storageRefreg)"
                        ng-options="x.id as x.type for x in storageRefregs"></select>
            </div>
            <i class="iconfont fr moreinfo">&#xe697;</i>
        </li>
        <li>
            <label>有无温度记录</label>
            <div class="mySelect">
                <select ng-model="temperRecord"
                        ng-options="x.id as x.name for x in haveOrNots"></select>
            </div>
            <i class="iconfont fr moreinfo">&#xe697;</i>
        </li>
        <li>
            <label>企业网址</label>
            <input type="text" ng-model="website" placeholder="格式：http://www.baidu.com"/>
        </li>
        <li>
            <label>冷库分库容积</label>
        </li>
        <li class="groupRdc">
            <label>常温库</label>
            <input type="number" step="0.01" ng-model="capacity1" placeholder="可选，默认m³">
            <span>单位：</span>
            <select ng-model="height1">
                <option value=""></option>
                <option value="m³">m³</option>
                <option value="托">托</option>
                <option value="吨">吨</option>
            </select>
        </li>
        <li class="groupRdc">
            <label>冷藏库</label>
            <input type="number" step="0.01" ng-model="capacity2" placeholder="可选，默认m³">
            <span>单位：</span>
            <select ng-model="height2">
                <option value=""></option>
                <option value="m³">m³</option>
                <option value="托">托</option>
                <option value="吨">吨</option>
            </select>
        </li>
        <li class="groupRdc">
            <label>冷冻库</label>
            <input type="number" step="0.01" ng-model="capacity3" placeholder="可选，默认m³">
            <span>单位：</span>
            <select ng-model="height3">
                <option value=""></option>
                <option value="m³">m³</option>
                <option value="托">托</option>
                <option value="吨">吨</option>
            </select>
        </li>
        <li class="groupRdc">
            <label>超低温库</label>
            <input type="number" step="0.01" ng-model="capacity4" placeholder="可选，默认m³">
            <span>单位：</span>
            <select ng-model="height4">
                <option value=""></option>
                <option value="m³">m³</option>
                <option value="托">托</option>
                <option value="吨">吨</option>
            </select>
        </li>
        <li>
            <label>周边设施：</label>
            <div class="mySelect">
                <textarea type="text" ng-model="facility" placeholder="交通、加油站、宾馆、银行、餐饮、距市区和高速的距离等.."></textarea>
            </div>
        </li>
        <li>
            <label>资质荣誉图：
                <small class="text-warning">*最多八张</small>
            </label>
            <label class="pic">
                <input type="file" ngf-select="addHonorFiles($files)" ng-model="honorfiles" ngf-multiple="true"
                       accept="image/gif, image/bmp, image/jpg ,image/jpeg, image/png"
                       name="honorfiles">
            </label>
            <output class="img_list">
						<span ng-repeat="honorfile in totalhonorfiles"><img
                                class="thumb" ngf-src="honorfile" title="{{honorfile}}"><i
                                ng-click="drophonor(honorfile)">×</i></span>
            </output>
        </li>
        <li>
            <label>冷库认证</label>
            <label class="pic">
                <input type="file" ngf-select="addAuditPic($files)" ng-model="auditfile" ngf-multiple="false"
                       accept="image/gif, image/bmp, image/jpg, image/jpeg, image/png" name="auditfile">
            </label>
            <output class="img_list">
						<span ng-repeat="audit in auditPic">
							<img class="thumb" ngf-src="audit" title="{{audit}}">
							<i ng-click="dropAuditPic(audit)">×</i>
						</span>
            </output>
            <label style="font-size: .5rem;line-height: 1.7;">
                <small class="text-warning">1、请上传企业营业执照,冷库认证通过之后，将显示绿色盾牌标识，提高信任度和搜索排名</small>
                <br>
                <small class="text-warning">2、只有已认证的冷库，才可以发布出租信息，否则不能够发布出租信息</small>
            </label>
        </li>
    </ul>
    <!--双箭头下拉-->
    <div class="next"><i class="iconfont">&#xe649;</i></div>
    <button class="mybtn" ng-click="submit()">确认发布</button>
</section>
<script>
    $(function () {
        $('.rdcImg').children('div').eq(0).children('label').click(function () {
            var oLabel = $(this).index();
            if (oLabel != 2) {
                $(this).parent().siblings('ul').show().children('li').eq(oLabel).show().siblings('li').hide();
            } else {
                $(this).parent().siblings('ul').hide();
            }
        })
    })
</script>
</body>