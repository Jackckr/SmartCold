<?xml version="1.0" encoding="UTF-8" ?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd" >
<mapper namespace="com.smartcold.zigbee.manage.dao.RdcauthMapping">
    <insert id="insertCertification" parameterType="RdcAuthEntity" useGeneratedKeys="true" keyProperty="id">
		 INSERT INTO `rdcauth` (`uid`, `type`, `rdcid`, `state`, `note` , `imgurl`,`msg`, `addtime`) VALUES (#{uid}, #{type}, #{rdcid}, #{state}, #{note} , #{imgurl},#{msg},now());
    </insert>
    <select id="selByUidRdcId" resultType="com.smartcold.zigbee.manage.entity.RdcAuthEntity">
        SELECT * FROM `rdcauth` WHERE `uid`=#{uid} and `rdcid`=#{rdcId} and `type`=0 order by `id` desc
    </select>
    <select id="selByAuditUid" resultType="com.smartcold.zigbee.manage.entity.RdcAuthEntity">
        SELECT * FROM `rdcauth` WHERE `uid`=#{userId} and (`type`=3 or `type`=4) order by `id` desc
    </select>
    <select id="selAuditRdcId" resultType="com.smartcold.zigbee.manage.entity.RdcAuthEntity">
        SELECT * FROM `rdcauth` WHERE `rdcid`=#{rdcId} and `type`=0 order by `id` desc
    </select>
    <select id="selStandRdcId" resultType="com.smartcold.zigbee.manage.entity.RdcAuthEntity">
        SELECT * FROM `rdcauth` WHERE `rdcid`=#{rdcId} and `type`=5 order by `id` desc
    </select>
</mapper>