<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="com.smartcold.manage.cold.dao.newdb.TempMapper">



  
	<insert id="batchInsert" parameterType="com.smartcold.manage.cold.entity.comm.ItemValue">
		INSERT INTO `st360_${tid}`.`temp`
		(
		`oid`,
		`key`,
		`value`,
		`time`,
		`addtime`
		)
		VALUES
			<foreach collection="list" item="model" separator=","> 
	        (           
	            #{model.oid}, 
	            #{model.key}, 
	            #{model.value}, 
	            #{model.time}, 
	            now()     
	        )
	    </foreach>
	</insert>
  
    <select id="findVTByTime" parameterType="map" resultType="com.smartcold.manage.cold.entity.comm.ItemValue">
	    SELECT  `value`,`time` addtime FROM `st360_${oid%10}`.`temp`   WHERE  `time` &gt; #{startTime} AND `time` &lt; #{endTime} and `oid`=#{oid} and `key`=#{key};
	</select>
</mapper>